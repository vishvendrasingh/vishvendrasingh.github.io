---
layout: post
status: publish
published: true
title: Generating a Google Map with multiple markers and info windows
author:
  display_name: vishvendra
  login: vishvendra
  email: vishvendrasingh1993@gmail.com
  url: ''
author_login: vishvendra
author_email: vishvendrasingh1993@gmail.com
wordpress_id: 83
wordpress_url: https://www.vishvendrasingh.com/?p=83
date: '2015-12-09 03:43:33 +0530'
date_gmt: '2015-12-09 03:43:33 +0530'
categories:
- Common
- PHP
- web
tags:
- Maps
comments:
- id: 3
  author: Delila91
  author_email: kishachristie@arcor.de
  author_url: http://google.se
  date: '2016-11-11 13:10:33 +0530'
  date_gmt: '2016-11-11 13:10:33 +0530'
  content: "I see your website is similar to my blog. Do you allow guest posts?\nI
    can write hi quality content for you. Let me know \nif you are interested."
---
<p>I recently needed to generate a Google Map with multiple markers and popup info windows. Easy, right? The twist was that I also wanted the marker pins to be different colors and I needed the map to auto center.<!--more--><br />
Here’s the script I pulled together to make it happen:<br />
Google Maps Multiple Markers -</p>
<pre class="lang-bsh prettyprint prettyprinted"><code><span class="pln">
&lt;script src="http://maps.google.com/maps/api/js?sensor=false"&gt;&lt;/script&gt;
&lt;div id="map" style="width: 500px; height: 400px;"&gt;&lt;/div&gt;
&lt;script&gt;
// Define your locations: HTML content for the info window, latitude, longitude
var locations = [
['&lt;h4&gt;Bondi Beach&lt;/h4&gt;', -33.890542, 151.274856],
['&lt;h4&gt;Coogee Beach&lt;/h4&gt;', -33.923036, 151.259052],
['&lt;h4&gt;Cronulla Beach&lt;/h4&gt;', -34.028249, 151.157507],
['&lt;h4&gt;Manly Beach&lt;/h4&gt;', -33.80010128657071, 151.28747820854187],
['&lt;h4&gt;Maroubra Beach&lt;/h4&gt;', -33.950198, 151.259302]];

// Setup the different icons and shadows
var iconURLPrefix = 'http://maps.google.com/mapfiles/ms/icons/';

var icons = [
iconURLPrefix + 'red-dot.png',
iconURLPrefix + 'green-dot.png',
iconURLPrefix + 'blue-dot.png',
iconURLPrefix + 'orange-dot.png',
iconURLPrefix + 'purple-dot.png',
iconURLPrefix + 'pink-dot.png',
iconURLPrefix + 'yellow-dot.png'
]
var iconsLength = icons.length;

var map = new google.maps.Map(document.getElementById('map'), {
zoom: 10,
center: new google.maps.LatLng(-37.92, 151.25),
mapTypeId: google.maps.MapTypeId.ROADMAP,
mapTypeControl: false,
streetViewControl: false,
panControl: false,
zoomControlOptions: {
position: google.maps.ControlPosition.LEFT_BOTTOM
}
});

var infowindow = new google.maps.InfoWindow({
maxWidth: 160
});

var markers = new Array();

var iconCounter = 0;

// Add the markers and infowindows to the map
for (var i = 0; i &lt; locations.length; i++) {
var marker = new google.maps.Marker({ position: new google.maps.LatLng(locations[i][1], locations[i][2]), map: map, icon: icons[iconCounter] }); markers.push(marker); google.maps.event.addListener(marker, 'click', (function(marker, i) { return function() { infowindow.setContent(locations[i][0]); infowindow.open(map, marker); } })(marker, i)); iconCounter++; // We only have a limited number of possible icon colors, so we may have to restart the counter if(iconCounter &gt;= iconsLength) {
iconCounter = 0;
}
}

function autoCenter() {
//  Create a new viewpoint bound
var bounds = new google.maps.LatLngBounds();
//  Go through each...
for (var i = 0; i &lt; markers.length; i++) { bounds.extend(markers[i].position); } // Fit these bounds to the map map.fitBounds(bounds); } autoCenter();
&lt;/script&gt;
</span></code></pre>
